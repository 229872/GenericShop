<div class="container" [attr.data-bs-theme]="'dark'">
  <div class="main-body">
    <div class="row gutters-sm">

      <div class="col-md-4 mb-3">
        <div class="card border-dark" [style]="getCardStyling()">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="assets/images/profile.png" alt="{{'account.profile.picture' | translate}}" class="rounded-circle"
                   width="150">
              <div class="mt-3">
                <h4 class="text-secondary">{{account?.firstName + ' ' + account?.lastName}}</h4>
                <p class="text-secondary">ID: {{account?.id}}</p>
                <p class="text-secondary font-size-sm">{{account?.email}}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card border-dark mt-3">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.lastSuccessfulAuthTime' | translate}}:</h6>
              <span class="text-secondary">{{formatDate(account?.authLogs?.lastSuccessfulAuthTime)}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.lastUnsuccessfulAuthTime' | translate}}:</h6>
              <span class="text-secondary">{{formatDate(account?.authLogs?.lastUnsuccessfulAuthTime)}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.unsuccessfulAuthCounter' | translate}}:</h6>
              <span class="text-secondary">{{account?.authLogs?.unsuccessfulAuthCounter}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.lastSuccessfulAuthIpAddr' | translate}}:</h6>
              <span class="text-secondary">{{account?.authLogs?.lastSuccessfulAuthIpAddr ?? '-'}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.lastUnsuccessfulAuthIpAddr' | translate}}:</h6>
              <span class="text-secondary">{{account?.authLogs?.lastUnsuccessfulAuthIpAddr ?? '-'}}</span>
            </li>
            <li *ngIf="account?.authLogs?.blockadeEndTime !== undefined"
                class="list-group-item d-flex justify-content-between align-items-center flex-wrap" [style]="getCardStyling()">
              <h6 class="text-secondary mb-0">{{'account.blockadeEndTime' | translate}}:</h6>
              <span class="text-secondary">{{account?.authLogs?.blockadeEndTime ?? '-'}}</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="col-md-8">
        <div class="card border-dark mb-3" [style]="getCardStyling()">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="text-secondary mb-0">{{'account.firstName' | translate}}:</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{account?.firstName}}
              </div>
            </div>
            <hr class="mt-2">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="text-secondary mb-0">{{'account.lastName' | translate}}:</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{account?.lastName}}
              </div>
            </div>
            <hr class="mt-2">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="text-secondary mb-0">{{'account.email' | translate}}:</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{account?.email}}
              </div>
            </div>
            <hr class="mt-2">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="text-secondary mb-0">{{'account.locale' | translate}}:</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{account?.locale}}
              </div>
            </div>

            <hr class="mt-2">
            <div class="row">
              <div class="col-sm-12">
                <button mat-button color="primary" class="resetButton" (click)="reloadData()">
                  <mat-icon>refresh</mat-icon>
                </button>
                <button mat-button color="primary" (click)="openEditAccountDialog()">{{'edit.account.button' | translate}}</button>
                <button mat-button color="primary" (click)="openChangeEmailDialog()">{{'edit.account.email.button' | translate}}</button>
                <button mat-button color="primary" (click)="openChangePasswordDialog()">{{'edit.account.password.button' | translate}}</button>
              </div>
            </div>
          </div>
        </div>

        <div class="row gutters-sm">

          <div class="col-sm-6 mb-3">
            <div class="card border-dark h-auto" [style]="getCardStyling()">
              <div class="card-body">
                <div class="row">
                  <div class="col-sm-12">
                    <h3 class="text-bg-light d-flex align-items-center mb-3">
                      <i class="material-icons">home</i>
                      {{'account.address.information' | translate}}
                    </h3>
                    <small class="text-secondary d-flex align-items-center">
                      {{'account.country' | translate}}:
                      <span class="flex-grow-1 text-secondary mb-0 mx-2">
                        {{account?.address?.country}}
                      </span>
                    </small>
                    <small class="text-secondary d-flex align-items-center">
                      {{'account.city' | translate}}:
                      <span class="flex-grow-1 text-secondary mb-0 mx-2">
                        {{account?.address?.city}}
                      </span>
                    </small>
                    <small class="text-secondary d-flex align-items-center">
                      {{'account.street' | translate}}:
                      <span class="flex-grow-1 text-secondary mb-0 mx-2">
                        {{account?.address?.street}}
                      </span>
                    </small>
                    <small class="text-secondary d-flex align-items-center">
                      {{'account.houseNumber' | translate}}:
                      <span class="flex-grow-1 text-secondary mb-0 mx-2">
                        {{account?.address?.houseNumber}}
                      </span>
                    </small>
                    <small class="text-secondary d-flex align-items-center">
                      {{'account.postalCode' | translate}}:
                      <span class="flex-grow-1 text-secondary mb-0 mx-2">
                        {{account?.address?.postalCode}}
                      </span>
                    </small>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-sm-6 mb-3">
            <div class="card border-dark h-auto" [style]="getCardStyling()">
              <div class="card-body">
                <h3 class="text-bg-light d-flex align-items-center mb-3">
                  <i class="material-icons">account_circle</i>
                  {{'account.state.information' | translate}}
                </h3>
                <small class="text-secondary d-flex align-items-center">
                  {{'account.roles' | translate}}:
                  <span class="account-roles flex-grow-1 text-secondary mb-0 mx-2">
                    {{getRoles()}}
                  </span>
                </small>
                <small class="text-secondary d-flex align-items-center">
                  {{'account.accountState' | translate}}:
                  <span class="flex-grow-1 text-secondary mb-0 mx-2">
                    {{getAccountState() | translate}}
                  </span>
                </small>
                <small class="text-secondary d-flex align-items-center">
                  {{'account.archival' | translate}}:
                  <span class="flex-grow-1 text-secondary mb-0 mx-2">
                    {{account?.archival? 'true' : 'false' | translate}}
                  </span>
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
